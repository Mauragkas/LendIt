@startuml
top to bottom direction
actor Ιδιοκτήτης

' Boundaries (Screens)
boundary "Αρχική Οθόνη" as B1
boundary "Οθόνη Προβολής Ιστορικού" as B2
boundary "Φόρμα Τροποποίησης Αγγελίας" as B3
boundary "Οθόνη Πλήρους Περιγραφής Αγγελίας" as B4

' Controllers (Processes)
control "Αναζητά τις αγγελίες του ιδιοκτήτη" as C1
control "Φιλτράρει τα αποτελέσματα με βάση την κατάσταση" as C2
control "Δημιουργεί λίστες αποτελεσμάτων" as C3
control "Φορτώνει την οθόνη προβολής ιστορικού" as C4
control "Φορτώνει την φόρμα τροποποίησης" as C5
control "Ελέγχει αν τα στοιχεία της αγγελίας έχουν τροποποιηθεί" as C6
control "Αποθηκεύει προσωρινά την τροποποιημένη αγγελία" as C7
control "Εμφανίζει μήνυμα επιβεβαίωσης" as C8
control "Τροποποιεί την κατάσταση της αγγελίας σε διαθέσιμη" as C9
control "Αποθηκεύει την τροποποιημένη αγγελία" as C10
control "Φορτώνει την οθόνη πλήρους περιγραφής αγγελίας" as C11

control "Φορτώνει την αρχική οθόνη" as AC1
control "Εντοπίζει ότι τα στοιχεία δεν έχουν αλλαχθεί" as AC2
control "Εμφανίζει ειδοποίηση λάθους" as AC3

' Entities
entity "Βάση Δεδομένων" as E1
entity "Αρχείο προσωρινής αποθήκευσης" as E2

' Actor Interactions
Ιδιοκτήτης --> B1 : 1. Επιλέγει την προβολή του ιστορικού
Ιδιοκτήτης --> B2 : 4. Επιλέγει επαναφορά ανενεργής αγγελίας
Ιδιοκτήτης --> B3 : 6. Αλλάζει τα στοιχεία της αγγελίας
Ιδιοκτήτης --> C8 : 7. Επιλέγει την επαναφορά της αγγελίας
Ιδιοκτήτης --> AC1 #red : 7.1.1 Επιλέγει την έξοδο

' Flow
B1 --> C1 : 2. Το σύστημα αναζητά τις αγγελίες
C1 --> E1 : Αναζητά στη βάση δεδομένων
C1 --> C2 : Συνεχίζει τη ροή
C2 --> C3
C3 --> C4
C4 --> B2 : 3. Εμφανίζει τις λίστες αποτελεσμάτων

B2 --> C5
C5 --> B3 : 5. Εμφανίζει τη φόρμα τροποποίησης

B3 --> C6 : 8. Ελέγχει την τροποποιημένη αγγελία
C6 --> C7 : Στοιχεία τροποποιήθηκαν
C7 --> E2 : 9. Αποθηκεύει προσωρινά
C7 --> C8 : 10. Ζητά επιβεβαίωση

C8 --> C9 : Επιβεβαιώνεται
C9 --> C10 : 11. Τροποποιεί κατάσταση & αποθηκεύει
C10 --> E1 : Αποθηκεύει στη βάση
C10 --> C11
C11 --> B4 : 12. Μεταβίβαση στην πλήρη περιγραφή

' Alternative flows
C6 --> AC2 #red : Στοιχεία δεν τροποποιήθηκαν
AC2 --> AC3 #red : 7.2.1 Εντοπίζει μη αλλαγή
AC3 --> C5 #red : 7.2.2 Επιστροφή στο βήμα 5

' Cancellation paths
B2 --> AC1 #red : 7.1.1 Επιλέγει έξοδο
B3 --> AC1 #red : 7.1.1 Επιλέγει έξοδο
C8 --> AC1 #red : 7.1.1 Επιλέγει έξοδο
AC1 --> B1 #red : 7.1.2 Μεταβίβαση στην αρχική σελίδα

@enduml
