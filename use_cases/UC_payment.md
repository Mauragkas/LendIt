Περίπτωση Χρήσης 3: Πληρωμή

Βήματα Happy Path:
1.  Ο ενοικιαστής επιλέγει την προσθήκη στο καλάθι αγορών
2.  Το σύστημα μεταβιβάζει τον ενοικιαστή στο καλάθι αγορών
3.  Το σύστημα ζητάει από τον ενοικιαστή την εισαγωγή της διεύθυνσής του
4.  Ο ενοικιαστής συμπληρώνει τη διεύθυνσή του 
5.  Το σύστημα εμφανίζει το συνολικό ποσό συμπεριλαμβανομένου του ΦΠΑ και των εξόδων αποστολής 
6.  Ο ενοικιαστής επιλέγει τη συνέχεια προς πληρωμή
7.  Το σύστημα μεταβιβάζει τον χρήστη στην πληρωμή  
8.  Το σύστημα εμφανίζει επιλογές πληρωμής
9.  Ο ενοικιαστής επιλέγει τον τρόπο πληρωμής
10. Το σύστημα καταγράφει τον τρόπο που επέλεξε ο χρήστης
11. Το σύστημα ζητάει από τον χρήστη να συμπληρώσει τα στοιχεία της κάρτας του
12. Ο ενοικιαστής συμπληρώνει τα στοιχεία του και επιλέγει ολοκλήρωση 
13. Το σύστημα κρυπτογραφεί τα στοιχεία πληρωμής
14. Το σύστημα στέλνει αίτημα επικύρωσης στο API της τράπεζας με τα στοιχεία συναλλαγής
15. Το σύστημα αποθηκεύει την επιβεβαίωση της συναλλαγής
16. Το σύστημα στέλνει την απόδειξη πληρωμής στον ενοικιαστή
17. Το σύστημα καταγράφει στη βάση δεδομένων την ολοκλήρωση της πληρωμής 
18. Το σύστημα αλλάζει στη βάση δεδομένων την κατάσταση της αγγελίας σε μη διαθέσιμη

Εναλλακτικές Ροές:
1. Αποτυχία επικύρωσης στοιχείων (από βήμα 15 της βασικής)
3.1.1 Το σύστημα καταγράφει αδυναμία επικύρωσης των στοιχείων του ενοικιαστή από το API 
3.1.2 Το σύστημα ενημερώνει τον ενοικιαστή να διορθώσει τα στοιχεία του 
3.1.3 Επιστροφή στο βήμα 11 της βασικής ροής 

2. Ανεπαρκές Υπόλοιπο (από βήμα 15 της βασικής)
3.2.1 Το σύστημα καταγράφει αδυναμία κράτησης του κατάλληλου ποσού από το API
3.2.2 Το σύστημα επιστρέφει μήνυμα που ζητάει από τον ενοικιαστή να χρησιμοποιήσει άλλη κάρτα ή μέθοδο πληρωμής
3.2.3 Επιστροφή στο βήμα 8 της βασικής ροής 

3. Ο ενοικιαστής αλλάζει γνώμη (από βήμα 4, 6, 9 και 11 της βασικής)
3.3.1 Ο ενοικιαστής επιλέγει να επιστρέψει πίσω, χωρίς να κάνει την κράτηση
3.3.2 Το σύστημα μεταφέρει τον ενοικιαστή στην αρχική σελίδα 

4. Προσθήκη εκπτωτικού κουπονιού (από βήμα 6 της βασικής)
3.4.1 Ο ενοικιαστής εισάγει τον κωδικό του εκπτωτικού κουπονιού
3.4.2 Το σύστημα επαληθεύει την εγκυρότητα του κωδικού κουπονιού στη βάση δεδομένων
3.4.3 Το σύστημα εφαρμόζει την έκπτωση στο τελικό ποσό
3.4.4 Επιστροφή στο βήμα 5 της βασικής ροής

5. Μη έγκυρο κουπόνι (από βήμα 2 της εναλλακτικής ροής 4)
3.5.1 Το σύστημα εντοπίζει ότι ο κωδικός κουπονιού δεν είναι καταχωρημένος στη βάση δεδομένων
3.5.2 Το σύστημα ενημερώνει τον ενοικιαστή ότι το κουπόνι δεν είναι έγκυρο
3.5.3 Επιστροφή στο βήμα 7 της βασικής ροής


